{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "Build “Civic Lens”: a civic-issue reporting website where citizens upload problem photos, complaints are deduplicated, routed to officials with a 72-hour SLA and escalation workflow, include AI-based priority scoring, citizen feedback/confirmation, and before/after photo verification.",
  "architectural_notes": [
    "Project name: Civic Lens",
    "Core workflow includes 72-hour SLA with escalation to higher official upon breach",
    "Complaints require photo evidence and support before/after verification",
    "System should prevent duplicate complaints (deduplication required)",
    "Terminology/UI copy: remove the word \"SLA\" from the website; use alternative wording (e.g., \"72-hour deadline\" or \"response time\") instead.",
    "Authentication/login providers must be limited to Google and Apple accounts only.",
    "User requested password-based registration/login, which conflicts with existing requirement to limit authentication providers to Google and Apple only; needs product decision.",
    "User request: remove everything in the bottom of the website (entire footer content/area), not only the existing watermark text/link.",
    "User request: remove the \"Create your password\" section from the website/auth UI."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-implement-internet-identity-authentication-flow-and-role-handling-so-that-users-can-act-as-citizen-official-or-higher-official-within-the-app",
      "title": "Implement Internet Identity authentication flow and role handling so that users can act as Citizen, Official, or Higher Official within the app.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-citizen-complaint-submission-ui-with-photo-upload-before-photo-category-selection-and-description-on-submit-create-a-complaint-in-the-backend",
      "title": "Add citizen complaint submission UI with photo upload (before photo), category selection, and description; on submit, create a complaint in the backend.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-72-hour-sla-deadline-on-each-new-complaint-and-display-remaining-time-in-citizen-and-official-views",
      "title": "Implement a 72-hour SLA deadline on each new complaint and display remaining time in citizen and official views.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-escalation-workflow-if-a-complaint-is-not-marked-resolved-within-72-hours-it-is-escalated-to-higher-official-review-and-is-clearly-flagged-in-dashboards",
      "title": "Implement escalation workflow: if a complaint is not marked Resolved within 72 hours, it is escalated to Higher Official review and is clearly flagged in dashboards.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-official-workflow-ui-to-receive-review-and-manage-complaints-view-queue-open-complaint-details-set-status-inprogress-and-mark-resolved-with-after-photo-upload",
      "title": "Add official workflow UI to receive, review, and manage complaints: view queue, open complaint details, set status InProgress, and mark Resolved with after photo upload.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-citizen-confirmation-feedback-flow-once-a-complaint-is-marked-resolved-the-reporting-citizen-can-confirm-resolution-or-flag-as-not-resolved-with-optional-comment-and-rating",
      "title": "Add citizen confirmation feedback flow: once a complaint is marked Resolved, the reporting citizen can confirm resolution or flag as not resolved, with optional comment and rating.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-duplicate-complaint-prevention-by-checking-new-submissions-against-existing-open-complaints-and-blocking-or-warning-on-likely-duplicates",
      "title": "Implement duplicate complaint prevention by checking new submissions against existing open complaints and blocking or warning on likely duplicates.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-ai-priority-score-field-computed-at-submission-time-and-displayed-in-all-dashboards-using-an-on-chain-heuristic-scoring-model-no-external-ai-services",
      "title": "Add an 'AI priority score' field computed at submission time and displayed in all dashboards, using an on-chain heuristic scoring model (no external AI services).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-before-after-photo-comparison-presentation-show-before-and-after-images-side-by-side-or-slider-on-the-complaint-detail-page-once-resolved-and-require-both-for-verification-flow",
      "title": "Implement before/after photo comparison presentation: show before and after images side-by-side (or slider) on the complaint detail page once resolved, and require both for verification flow.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-coherent-civic-focused-visual-theme-colors-typography-spacing-and-components-and-apply-it-consistently-across-the-public-landing-page-citizen-submission-flow-and-official-dashboards-avoid-blue-purple",
      "title": "Create a coherent, civic-focused visual theme (colors, typography, spacing, and components) and apply it consistently across the public landing page, citizen submission flow, and official dashboards (avoid blue/purple).",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-project-documentation-with-step-by-step-instructions-to-open-run-and-deploy-the-civic-lens-project-in-vs-code-including-local-internet-computer-startup-canister-deployment-and-common-troubleshooting-notes",
      "title": "Add project documentation with step-by-step instructions to open, run, and deploy the Civic Lens project in VS Code, including local Internet Computer startup, canister deployment, and common troubleshooting notes.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-include-a-small-set-of-static-brand-ux-images-and-render-them-in-the-frontend-as-static-assets-from-frontend-public-assets-generated",
      "title": "Generate and include a small set of static brand/UX images and render them in the frontend as static assets from frontend/public/assets/generated.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-word-sla-from-all-user-facing-text-across-the-civic-lens-website-while-keeping-the-72-hour-deadline-functionality-intact-and-communicating-the-same-concept-using-alternative-wording-e-g-72-hour-response-window-deadline-time-remaining-due-by",
      "title": "Remove the word \"SLA\" from all user-facing text across the Civic Lens website, while keeping the 72-hour deadline functionality intact and communicating the same concept using alternative wording (e.g., \"72-hour response window\", \"Deadline\", \"Time remaining\", \"Due by\").",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-docs-section-from-the-primary-navigation-so-users-no-longer-see-a-docs-nav-item-in-the-header-navigation-or-mobile-drawer",
      "title": "Remove the Docs section from the primary navigation so users no longer see a \"Docs\" nav item in the header navigation or mobile drawer.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-learn-more-section-link-from-the-landing-page-hero-area-so-the-landing-page-no-longer-displays-a-button-or-link-that-routes-users-to-documentation",
      "title": "Remove the \"Learn More\" section/link from the landing page hero area so the landing page no longer displays a button or link that routes users to documentation.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-docs-route-from-the-application-routing-so-the-documentation-page-is-no-longer-accessible-via-in-app-navigation-routes",
      "title": "Remove the /docs route from the application routing so the documentation page is no longer accessible via in-app navigation routes.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-authentication-ui-so-the-only-visible-sign-in-options-are-continue-with-google-and-continue-with-apple-no-generic-login-button-or-any-other-provider-options-while-keeping-the-existing-internet-identity-based-authentication-flow-behind-the-scenes",
      "title": "Update the authentication UI so the only visible sign-in options are \"Continue with Google\" and \"Continue with Apple\" (no generic \"Login\" button or any other provider options), while keeping the existing Internet Identity-based authentication flow behind the scenes.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-update-public-landing-page-calls-to-action-for-unauthenticated-users-to-align-with-the-restricted-sign-in-options-by-replacing-generic-unauthenticated-buttons-e-g-get-started-sign-in-to-get-started-with-a-clear-prompt-to-sign-in-using-google-or-apple-and-a-direct-interaction-that-opens-the-new-google-apple-sign-in-choices",
      "title": "Update public landing page calls-to-action for unauthenticated users to align with the restricted sign-in options by replacing generic unauthenticated buttons (e.g., \"Get Started\", \"Sign In to Get Started\") with a clear prompt to sign in using Google or Apple and a direct interaction that opens the new Google/Apple sign-in choices.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-authentication-flow-to-include-a-password-registration-step-after-internet-identity-sign-in-if-the-signed-in-user-has-no-password-registered-yet",
      "title": "Update the frontend authentication flow to include a password registration step after Internet Identity sign-in if the signed-in user has no password registered yet.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-to-require-password-login-verification-using-the-password-created-during-registration-for-signed-in-users-before-allowing-access-to-authenticated-app-actions-e-g-submitting-a-complaint-and-viewing-dashboards",
      "title": "Update the frontend to require password login/verification (using the password created during registration) for signed-in users before allowing access to authenticated app actions (e.g., submitting a complaint and viewing dashboards).",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-password-registration-and-password-login-ui-by-repurposing-or-replacing-the-current-placeholder-profilesetupmodal-so-it-becomes-functional-and-opens-at-the-appropriate-times",
      "title": "Implement the password registration and password login UI by repurposing or replacing the current placeholder ProfileSetupModal so it becomes functional and opens at the appropriate times.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-bottom-of-page-watermark-branding-from-the-application-footer-by-deleting-the-built-with-using-caffeine-ai-text-and-the-caffeine-ai-outbound-link-so-it-no-longer-appears-on-any-page",
      "title": "Remove the bottom-of-page watermark/branding from the application footer by deleting the “Built with ❤️ using caffeine.ai” text and the caffeine.ai outbound link so it no longer appears on any page.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-entire-bottom-of-website-footer-area-from-the-app-layout-so-no-footer-content-e-g-copyright-text-external-links-icons-borders-or-footer-padding-appears-on-any-page",
      "title": "Remove the entire bottom-of-website footer area from the app layout so no footer content (e.g., copyright text, external links/icons, borders, or footer padding) appears on any page.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-password-registration-create-your-password-step-from-the-authenticated-onboarding-flow-so-users-are-no-longer-prompted-to-create-a-password-after-signing-in-with-internet-identity",
      "title": "Remove the password registration (\"Create Your Password\") step from the authenticated onboarding flow so users are no longer prompted to create a password after signing in with Internet Identity.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-keep-password-verification-behavior-only-for-users-who-already-have-a-password-registered-if-the-backend-reports-that-a-password-exists-for-the-signed-in-principal-and-the-session-is-not-verified-show-the-verification-modal-otherwise-do-not-show-any-password-related-ui",
      "title": "Keep password verification behavior only for users who already have a password registered: if the backend reports that a password exists for the signed-in principal and the session is not verified, show the verification modal; otherwise do not show any password-related UI.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Citizen complaint submission with photo upload (e.g., potholes, garbage issues)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Government official workflow to receive, manage, and resolve complaints",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "72-hour deadline/SLA tracking for each complaint",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Automatic escalation to higher officials when not completed within 72 hours",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "AI-generated priority score for complaints",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Citizen confirmation/feedback after resolution",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Duplicate complaint prevention/deduplication",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Before-and-after photo submission and verification for completed issues",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Provide step-by-step procedure to set up and run the project in VS Code, with a Civic Lens project folder structure",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Create core data model and backend APIs for civic complaints, including creation, retrieval, status updates, and audit fields (createdAt, updatedAt) suitable for a citizen-to-official workflow.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Remove the Docs section and the Learn More section from the website UI/navigation",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Update authentication so users can log in only via Google or Apple accounts (remove/disable other login methods)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add email/username + password registration and password-based login flow",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Add backend support for password registration tied to the currently authenticated Internet Identity principal, including secure storage of password verification material (do not store plaintext passwords).",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add backend support for password-based login/verification for the currently authenticated Internet Identity principal.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add a backend query method to let the frontend determine whether the currently authenticated principal has already registered a password.",
      "reqIds": [
        "REQ-22"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Remove the watermark displayed at the bottom of the page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Remove all content from the bottom of the website (clear/remove the entire footer area, not just the watermark)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Remove the \"Create your password\" section from the authentication/onboarding UI flow",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Civic Lens",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}